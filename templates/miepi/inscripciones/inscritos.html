{% extends 'miepi/base.html' %}

{% block title %}Inscritos{% endblock %}
{% block header_title %}Lista de Inscritos{% endblock %}

{% block content %}
<div class="container">

  <section class="form-card">
    <h2 style="margin-bottom:15px;">Registros</h2>

    <div class="table-responsive">
      <table>
        <thead>
          <tr>
            <th>Nombre</th>
            <th>Sub Zona</th>
            <th>Teléfono</th>
            <th>Grado</th>
            <th>Periodo</th>
            <th>QR</th>
          </tr>
        </thead>
        <tbody>
          {% for i in inscritos %}
          <tr>
            <td>{{ i.nombre }}</td>
            <td>{{ i.subzona }}</td>
            <td>{{ i.telefono }}</td>
            <td>{{ i.grado }}</td>
            <td>{{ i.periodo }}</td>
            <td>
              {% if i.qr_image %}
                <div class="qr-container">
                  <img src="{{ i.qr_image.url }}" width="80">
                  <br>
                  <a href="{{ i.qr_image.url }}" download>
                    <button class="qr-button">Descargar</button>
                  </a>
                </div>
              {% else %}
                <span>—</span>
              {% endif %}
            </td>
          </tr>
          {% empty %}
          <tr>
            <td colspan="6">No hay registros</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>

  </section>

</div>

<style>
/* reutilizando tu diseño */
.form-card {
    background: #ffffff6f;
    padding: 24px;
    border-radius: 12px;
    box-shadow: 0 6px 18px rgba(0,0,0,0.1);
}

.table-responsive { overflow-x: auto; }

table {
    width: 100%;
    border-collapse: collapse;
    min-width: 700px;
}

th, td {
    padding: 10px;
    border-bottom: 1px solid #ddd;
    text-align: center;
}

th {
    background: #eaeaeab9;
}

.qr-container img {
    border-radius: 6px;
    margin-bottom: 5px;
}

.qr-button {
    background: #4aa3f0;
    font-size: 12px;
    padding: 6px 10px;
    border-radius: 6px;
    border: none;
    color: #fff;
    cursor: pointer;
}

.qr-button:hover {
    background: #3780c0;
}
</style>
{% endblock %}
